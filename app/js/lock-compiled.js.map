{"version":3,"sources":["lock.js"],"names":[],"mappings":"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","file":"lock-compiled.js","sourcesContent":["(function () {\n\n    document.addEventListener('DOMContentLoaded', function () {\n\n        /**\n         *\n         * @param inputId\n         * @returns {{insert: insert, clear: clear, del: del, PINisValid: PINisValid, random: random}}\n         * @constructor\n         */\n        var Input = function (inputId) {\n\n            var input = document.getElementById(inputId);\n\n            const PIN = \"512\";\n\n            return {\n                /**\n                 * Inserts new value into input\n                 * @param newValue\n                 */\n                insert: function (newValue) {\n                    if (input.value.length < PIN.length) {\n                        input.value += \"\" + newValue;\n                    }\n                },\n                /**\n                 * Clears input\n                 */\n                clear: function () {\n                    input.value = \"\";\n                },\n                /**\n                 * Delete last number in the input\n                 */\n                del: function () {\n                    input.value = input.value.slice(0, -1);\n                },\n                /**\n                 * @return {boolean}\n                 */\n                PINisValid: function () {\n                    return input.value === PIN;\n                },\n                /**\n                 *\n                 * @param min\n                 * @param max\n                 * @returns {number}\n                 */\n                random: function (min, max) {\n                    return Math.floor(min + Math.random() * (max - min + 1));\n                }\n            }\n        };\n\n        /**\n         *\n         * @param lockId\n         * @param upperLockId\n         * @param alertId\n         * @param labelTextId\n         * @returns {{shake: shake, open: open, isOpen: isOpen, close: close, hide: hide, showAlert: showAlert}}\n         * @constructor\n         */\n        var Lock = function (lockId, upperLockId, alertId, labelTextId) {\n\n            var lock = document.getElementById(lockId);\n            var upperLock = document.getElementById(upperLockId);\n            var alert = document.getElementById(alertId);\n            var labelText = document.getElementById(labelTextId);\n            var timeout = 0;\n\n            return {\n                /**\n                 * Shakes lock\n                 */\n                shake: function () {\n                    lock.classList.add(\"animated\");\n\n                    setTimeout(function () {\n                        lock.classList.toggle(\"animated\");\n                    }, 200);\n                },\n                /**\n                 * Opens lock\n                 */\n                open: function () {\n                    upperLock.classList.add(\"open\");\n                },\n                /**\n                 * Check if lock is open\n                 * @returns {boolean}\n                 */\n                isOpen: function () {\n                    return upperLock.classList.contains(\"open\");\n                },\n                /**\n                 * Closes lock\n                 */\n                close: function () {\n                    upperLock.classList.toggle(\"open\");\n                },\n                /**\n                 * Hides lock numbers\n                 */\n                hide: function () {\n                    lock.classList.add(\"hidden-lock\");\n\n                    setTimeout(function () {\n                        lock.classList.add(\"hidden\");\n                    }, 1000);\n                },\n                /**\n                 * Shows alert, hides label for 1s\n                 */\n                showAlert: function () {\n\n                    clearTimeout(timeout);\n\n                    alert.classList.add(\"show\");\n                    labelText.classList.add(\"hideText\");\n\n                    timeout = setTimeout(function () {\n                        alert.classList.remove(\"show\");\n                        labelText.classList.remove(\"hideText\");\n                    }, 1000);\n\n                }\n            }\n        };\n\n        var input = new Input(\"number_input\");\n        var lock = new Lock(\"lock_container\", \"upper_lock\", \"alert\", \"label_text\");\n\n        var checkPIN = function () {\n\n            if (input.PINisValid()) {\n                lock.open();\n                lock.hide();\n            }\n            else {\n                if (!lock.isOpen()) {\n                    input.clear();\n                    lock.shake();\n                    lock.showAlert();\n\n                    var keyArray = document.querySelectorAll(\".number_key\");\n                    var keyArrayLength = keyArray.length;\n                    var numbersDiv = document.getElementById(\"lock_numbers\");\n\n                    for (var i = 0; i < keyArrayLength; i++) {\n                        numbersDiv.insertBefore(keyArray[i], keyArray[input.random(0, keyArrayLength - 1)])\n                    }\n                    var clearKey = document.getElementById(\"clear_input\");\n                    numbersDiv.insertBefore(clearKey, document.querySelectorAll(\".number_key\")[keyArrayLength - 1]);\n                }\n            }\n        };\n\n\n        document.querySelector(\"body\").addEventListener(\"click\", function (event) {\n\n            var target = event.target;\n\n            if (target.classList.contains(\"number_key\")) {\n                var value = parseInt(target.innerHTML, 10);\n                input.insert(value);\n            }\n\n            if (target.id === \"clear_input\") {\n                input.clear();\n            }\n\n            if (target.id === \"delete_number\") {\n                input.del();\n            }\n\n            if (target.id === \"enter_button\") {\n                checkPIN();\n            }\n\n        });\n        document.querySelector(\"body\").addEventListener(\"keydown\", function (event) {\n\n            if (event.keyCode === 8) {\n                input.del();\n            }\n\n            if (event.keyCode === 46) {\n                input.clear();\n            }\n\n            if (event.keyCode === 13) {\n                checkPIN();\n            }\n        });\n\n    });\n\n\n}());"]}