{"version":3,"sources":["lock.js"],"names":[],"mappings":"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","file":"lock-compiled.js","sourcesContent":["(function () {\n\n    document.addEventListener('DOMContentLoaded', function () {\n\n        var Input = function () {\n\n            var inputId = document.getElementById(\"number_input\");\n\n            const PIN = \"512\";\n\n            return {\n                insert: function (newValue) {\n                    if (inputId.value.length < PIN.length) {\n                        inputId.value += \"\" + newValue;\n                    }\n                },\n                clear: function () {\n                    inputId.value = \"\";\n                },\n                del: function () {\n                    inputId.value = inputId.value.slice(0, -1);\n                },\n                /**\n                 * @return {boolean}\n                 */\n                PINisValid: function () {\n                    return inputId.value === PIN;\n                },\n                random: function (min, max) {\n                    return Math.floor(min + Math.random() * (max - min + 1));\n                }\n            }\n        };\n\n        var Lock = function () {\n\n            let lockId = document.getElementById(\"lock_container\");\n            let upperLock = document.getElementById(\"upper_lock\");\n            //let successID = document.getElementById(\"success\");\n\n            return {\n                shake: function () {\n                    lockId.classList.add(\"animated\");\n\n                    setTimeout(function () {\n                        lockId.classList.toggle(\"animated\");\n                    }, 200);\n                },\n                open: function () {\n                    upperLock.classList.add(\"open\");\n                    //successID.classList.toggle(\"show\");\n                    return this;\n                },\n                isOpen: function () {\n                    return upperLock.classList.contains(\"open\");\n                },\n                close: function () {\n                    upperLock.classList.toggle(\"open\");\n                },\n                hide: function () {\n                    lockId.classList.add(\"hidden-lock\");\n\n                    setTimeout(function () {\n                        lockId.classList.add(\"hidden\");\n                    }, 1000);\n                }\n            }\n        };\n\n        var input = new Input();\n        var lock = new Lock();\n\n\n        var checkPIN = function () {\n\n            if (input.PINisValid()) {\n                lock.open().hide();\n                //lock.hide();\n            }\n            else {\n                if (!lock.isOpen()) {\n\n                    input.clear();\n                    lock.shake();\n\n                    let keyArray = document.querySelectorAll(\".number_key\");\n                    let keyArrayLength = keyArray.length;\n                    let numbersDiv = document.getElementById(\"lock_numbers\");\n\n                    for (let i = 0; i < keyArrayLength; i++) {\n                        numbersDiv.insertBefore(keyArray[i], keyArray[input.random(0, keyArrayLength - 1)])\n                    }\n                    let clearKey = document.getElementById(\"clear_input\");\n                    numbersDiv.insertBefore(clearKey, document.querySelectorAll(\".number_key\")[keyArrayLength - 1]);\n                }\n            }\n        };\n\n\n        document.querySelector(\"body\").addEventListener(\"click\", function (event) {\n\n            var target = event.target;\n\n            if (target.classList.contains(\"number_key\")) {\n                let value = parseInt(target.innerHTML, 10);\n                input.insert(value);\n            }\n\n            if (target.id === \"clear_input\") {\n                input.clear();\n            }\n\n            if (target.id === \"delete_number\") {\n                input.del();\n            }\n\n            if (target.id === \"enter_button\") {\n                checkPIN();\n            }\n\n        });\n        document.querySelector(\"body\").addEventListener(\"keydown\", function (event) {\n\n            if (event.keyCode === 8) {\n                input.del();\n            }\n\n            if (event.keyCode === 46) {\n                input.clear();\n            }\n\n            if (event.keyCode === 13) {\n                checkPIN();\n            }\n        });\n\n    });\n\n\n}());"]}